{"mappings":"siBAGA,SAASA,EAAcC,EAAUC,GAkB/B,OAfgB,IAAIC,SAAQ,CAACC,EAASC,KAEpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KAELH,EACFF,EAAS,C,SAACH,E,MAAUC,IAEpBG,EAAO,C,SAACJ,E,MAAUC,GAAO,GAE1BA,EAAM,G,CAQAQ,SAASC,cAAc,SAE/BC,iBAAiB,UAAWC,IAC/BA,EAAEC,iBAEF,MAAQZ,MAAAa,EAAKC,KAAEA,EAAIC,OAAEA,GAAWJ,EAAEK,cAAcC,SAE1CC,EAAa,CACjBC,WAAYN,EAAMO,MAClBN,KAAMA,EAAKM,MACXL,OAAQA,EAAOK,OAKjB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAWH,OAAQM,IAAK,CAE1C,IAAIC,EACAC,EAAWL,EAAWC,WAAaE,EAAIR,EAEzCf,EAAcwB,EAAUJ,EAAWJ,MAChCU,MAAK,EAACzB,SAAEA,EAAQC,MAAEA,MACnByB,EAAAC,GAASC,OAAOC,QAAQ,uBAAqB7B,QAAiBC,MAAU,IAEvE6B,OAAM,EAAC9B,SAAEA,EAAQC,MAAEA,MACpByB,EAAAC,GAASC,OAAOG,QAAQ,sBAAoB/B,QAAiBC,MAAU,IAGrEsB,GAAYJ,EAAWH,QACzBgB,cAAcR,E","sources":["src/js/03-promises.js"],"sourcesContent":["import \"flatpickr/dist/flatpickr.min.css\";\nimport Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n\n\n  const promise = new Promise((resolve, reject) => {\n  \n    const shouldResolve = Math.random() > 0.3;\n  \n    setTimeout(() => {\n      \n      if (shouldResolve) {\n        resolve( {position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n    \n  });\n\n  return promise;\n}\n\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n    \n  const { delay, step, amount } = e.currentTarget.elements;\n    \n  const timeObject = {\n    firstDelay: delay.value,\n    step: step.value,\n    amount: amount.value,\n  }\n\n\n\n  for (let i = 0; i < timeObject.amount; i++) {\n\n    let position += 1;\n    let interval = timeObject.firstDelay + i * delay;\n     \n      createPromise(position, timeObject.step)\n        .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n        .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        });\n        \n      if (position >= timeObject.amount) {\n        clearInterval(interval);\n      }\n\n    }\n\n\n\n    // const interval = setInterval(() => { \n    //   position += 1;\n    //   createPromise(position, timeObject.step)\n    //     .then(({ position, delay }) => {\n    //     Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    //   })\n    //     .catch(({ position, delay }) => {\n    //     Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    //     });\n        \n    //   if (position >= timeObject.amount) {\n    //     clearInterval(interval);\n    //   }\n    // }, timeObject.step)\n\n \n\n}\n)\n    \n\n\n\n\n"],"names":["$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","document","querySelector","addEventListener","e","preventDefault","delay1","step","amount","currentTarget","elements","timeObject","firstDelay","value","i","position1","interval","then","$parcel$interopDefault","$eWCmQ","Notify","success","catch","failure","clearInterval"],"version":3,"file":"03-promises.f4a7a8b3.js.map"}