{"mappings":"siBAyBaA,SAASC,cAAc,SAE/BC,iBAAiB,UAAWC,IAC/BA,EAAEC,iBAEF,MAAQC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,GAAWL,EAAEM,cAAcC,SAE1CC,EAAa,CACjBC,WAAYN,EAAMO,MAClBN,KAAMA,EAAKM,MACXL,OAAQA,EAAOK,OAGjB,IAAIC,EAAW,EACfC,YAAW,KACT,MAAMC,EAAWC,aAAY,KArCjC,IAAuBC,EAAUb,EAsC3BS,GAAY,GAtCKI,EAuCHJ,EAvCaT,EAuCHM,EAAWJ,KApCvB,IAAIY,SAAQ,CAACC,EAASC,KAEpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCT,YAAW,KAELO,EACFF,EAAS,C,SAACF,E,MAAUb,IAEpBgB,EAAO,C,SAACH,E,MAAUb,GAAO,GAE1BA,EAAM,KA0BJoB,MAAK,EAACP,SAAEA,EAAQb,MAAEA,MACnBqB,EAAAC,GAASC,OAAOC,QAAQ,uBAAqBX,QAAiBb,MAAU,IAEvEyB,OAAM,EAACZ,SAAEA,EAAQb,MAAEA,MACpBqB,EAAAC,GAASC,OAAOG,QAAQ,sBAAoBb,QAAeb,MAAU,IAGnES,GAAYH,EAAWH,QACzBwB,cAAchB,EAAS,GAExBL,EAAWJ,KAAK,GAElBI,EAAWC,WAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import \"flatpickr/dist/flatpickr.min.css\";\nimport Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n\n\n  const promise = new Promise((resolve, reject) => {\n  \n    const shouldResolve = Math.random() > 0.3;\n  \n    setTimeout(() => {\n      \n      if (shouldResolve) {\n        resolve( {position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n    \n  });\n\n  return promise;\n}\n\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n    \n  const { delay, step, amount } = e.currentTarget.elements;\n    \n  const timeObject = {\n    firstDelay: delay.value,\n    step: step.value,\n    amount: amount.value,\n  }\n\n  let position = 0;\n  setTimeout(() => {\n    const interval = setInterval(() => { \n      position += 1;\n      createPromise(position, timeObject.step)\n        .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n        .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        });\n        \n      if (position >= timeObject.amount) {\n        clearInterval(interval);\n      }\n    }, timeObject.step)\n\n  }, timeObject.firstDelay);\n\n}\n)\n    \n\n\n\n\n"],"names":["document","querySelector","addEventListener","e","preventDefault","delay","delay1","step","amount","currentTarget","elements","timeObject","firstDelay","value","position1","setTimeout","interval","setInterval","position","Promise","resolve","reject","shouldResolve","Math","random","then","$parcel$interopDefault","$eWCmQ","Notify","success","catch","failure","clearInterval"],"version":3,"file":"03-promises.c930e7ad.js.map"}